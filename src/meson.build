inc = include_directories('.')

ui_files = files(
  './DataPlot/confirmdelete.ui',
  './DataPlot/csvconfig.ui',
  './DataPlot/datawindow.ui',
  './DataPlot/filloptions.ui',
  './DataPlot/modelchoicewidget.ui',
  './DataPlot/polynomialmodelwidget.ui',
  './DataPlot/sortoptions.ui',
  './DataPlot/startingactions.ui',
  './Widgets/appsettings.ui',
  './Widgets/graphsettings.ui',
  './Widgets/datawidget.ui',
  './Widgets/axissettingswidget.ui',
  './Widgets/export.ui',
  './Widgets/graphsizesettings.ui',
  './Widgets/keyboard.ui',
  './Widgets/mathobjectsinput.ui',
  './Widgets/sheetzoom.ui',
  './Windows/about.ui',
  './Windows/settings.ui',
)

source_files = files(
  './Calculus/colorsaver.cpp',
  './Calculus/exprcalculator.cpp',
  './Calculus/function.cpp',
  './Calculus/funcvaluessaver.cpp',
  './Calculus/polynomial.cpp',
  './Calculus/polynomialregression.cpp',
  './Calculus/regression.cpp',
  './Calculus/regressionvaluessaver.cpp',
  './Calculus/seqcalculator.cpp',
  './Calculus/treecreator.cpp',
  './Calculus/expreditbackend.cpp',
  './DataPlot/columnactionswidget.cpp',
  './DataPlot/columnselectorwidget.cpp',
  './DataPlot/csvhandler.cpp',
  './DataPlot/datatable.cpp',
  './DataPlot/datawindow.cpp',
  './DataPlot/modelchoicewidget.cpp',
  './DataPlot/modelwidget.cpp',
  './DataPlot/polynomialmodelwidget.cpp',
  './DataPlot/rowactionswidget.cpp',
  './DataPlot/rowselectorwidget.cpp',
  './GraphDraw/basegraphdraw.cpp',
  './GraphDraw/gridcalculator.cpp',
  './GraphDraw/mainview.cpp',
  './GraphDraw/mainviewcontainer.cpp',
  './GraphDraw/mathobjectdraw.cpp',
  './GraphDraw/subgraph.cpp',
  './GraphDraw/viewmapper.cpp',
  './ValuesTable/abstracttable.cpp',
  './ValuesTable/functable.cpp',
  './ValuesTable/pareqtable.cpp',
  './ValuesTable/seqtable.cpp',
  './ValuesTable/valuestable.cpp',
  './ValuesTable/valuestableconf.cpp',
  './Widgets/abstractfuncwidget.cpp',
  './Widgets/appsettings.cpp',
  './Widgets/axissettingswidget.cpp',
  './Widgets/datawidget.cpp',
  './Widgets/graphsizesettings.cpp',
  './Widgets/export.cpp',
  './Widgets/expressionlineedit.cpp',
  './Widgets/funcwidget.cpp',
  './Widgets/integrationwidget.cpp',
  './Widgets/keyboard.cpp',
  './Widgets/mathobjectsinput.cpp',
  './Widgets/numberlineedit.cpp',
  './Widgets/parconfwidget.cpp',
  './Widgets/pareqwidget.cpp',
  './Widgets/pareqcontroller.cpp',
  './Widgets/seqwidget.cpp',
  './Widgets/popupwidget.cpp',
  './Widgets/qcolorbutton.cpp',
  './Widgets/rangeadjustments.cpp',
  './Widgets/sheetzoom.cpp',
  './Widgets/straightlinewidget.cpp',
  './Widgets/tangentwidget.cpp',
  './Widgets/graphsettings.cpp',
  './Windows/about.cpp',
  './Windows/mainwindow.cpp',
  './Windows/settings.cpp',
  './Windows/updatecheck.cpp',
  './Windows/values.cpp',
  './information.cpp',
  './main.cpp',
  './structures.cpp',
)

moc_header_files = files(
  './Calculus/colorsaver.h',
  './Calculus/function.h',
  './Calculus/polynomialregression.h',
  './Calculus/regression.h',
  './Calculus/regressionvaluessaver.h',
  './Calculus/seqcalculator.h',
  './Calculus/expreditbackend.h',
  './DataPlot/columnactionswidget.h',
  './DataPlot/columnselectorwidget.h',
  './DataPlot/csvhandler.h',
  './DataPlot/datatable.h',
  './DataPlot/datawindow.h',
  './DataPlot/modelchoicewidget.h',
  './DataPlot/modelwidget.h',
  './DataPlot/polynomialmodelwidget.h',
  './DataPlot/rowactionswidget.h',
  './DataPlot/rowselectorwidget.h',
  './GraphDraw/basegraphdraw.h',
  './GraphDraw/gridcalculator.h',
  './GraphDraw/mainview.h',
  './GraphDraw/mainviewcontainer.h',
  './GraphDraw/mathobjectdraw.h',
  './GraphDraw/subgraph.h',
  './GraphDraw/viewmapper.h',
  './ValuesTable/abstracttable.h',
  './ValuesTable/functable.h',
  './ValuesTable/pareqtable.h',
  './ValuesTable/seqtable.h',
  './ValuesTable/valuestable.h',
  './ValuesTable/valuestableconf.h',
  './Widgets/abstractfuncwidget.h',
  './Widgets/appsettings.h',
  './Widgets/axissettingswidget.h',
  './Widgets/datawidget.h',
  './Widgets/graphsettings.h',
  './Widgets/export.h',
  './Widgets/expressionlineedit.h',
  './Widgets/funcwidget.h',
  './Widgets/graphsizesettings.h',
  './Widgets/integrationwidget.h',
  './Widgets/mathobjectsinput.h',
  './Widgets/keyboard.h',
  './Widgets/parconfwidget.h',
  './Widgets/pareqcontroller.h',
  './Widgets/pareqwidget.h',
  './Widgets/popupwidget.h',
  './Widgets/qcolorbutton.h',
  './Widgets/rangeadjustments.h',
  './Widgets/seqwidget.h',
  './Widgets/tangentwidget.h',
  './Widgets/sheetzoom.h',
  './Widgets/straightlinewidget.h',
  './Widgets/numberlineedit.h',
  './Windows/about.h',
  './Windows/mainwindow.h',
  './Windows/settings.h',
  './Windows/updatecheck.h',
  './Windows/values.h',
  './information.h',
  './structures.h',
)

qt6 = import('qt6')

compiled_ressources = qt6.compile_resources(sources: files('../ressources.qrc'))
compiled_ui = qt6.compile_ui(sources: ui_files)
moc_files = qt6.compile_moc(
    headers : moc_header_files,
    include_directories: inc,
    dependencies: qt6_dep
)

executable('ZeGrapher', source_files, compiled_ressources, compiled_ui, moc_files,
    include_directories: inc,
    dependencies: [qt6_dep, boost_dep, zecalculator_dep],
    install: true)
